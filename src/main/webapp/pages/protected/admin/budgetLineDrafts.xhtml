<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
<div class="glass">
    <p:dataTable id="draftTable" value="#{budgetLineBean.draftedBudgetLines}" var="draftLine"
                 emptyMessage="No drafts available">
        <p:column headerText="Name">
            <h:outputText value="#{draftLine.name}"/>
        </p:column>
        <p:column headerText="Category">
            <h:outputText value="#{draftLine.category.name}"/>
        </p:column>
        <p:column headerText="Start Date">
            <h:outputText value="#{draftLine.startDate}">
                <f:convertDateTime pattern="dd/MM/yyyy"/>
            </h:outputText>
        </p:column>
        <p:column headerText="End Date">
            <h:outputText value="#{draftLine.endDate}">
                <f:convertDateTime pattern="dd/MM/yyyy"/>
            </h:outputText>
        </p:column>
        <p:column headerText="Amount">
            <h:outputText value="#{draftLine.amountDelegated}"/>
        </p:column>
        <p:column headerText="Actions" style="width:100px">
            <div class="btn-sect">
                <p:commandButton styleClass="edit" icon="pi pi-pencil"
                                 action="#{budgetLineBean.editBudgetLine(draftLine)}" update="categoryTable">
                </p:commandButton>
                <p:commandButton styleClass="delete" icon="pi pi-times"
                                 action="#{categoryBean.cancelBudgetLine(draftLine)}"
                                 update="categoryTable">
                    <p:confirm header="Confirmation" message="Are you sure you want to delete this category?"/>
                </p:commandButton>
            </div>

        </p:column>
    </p:dataTable>
</div>
</ui:composition>